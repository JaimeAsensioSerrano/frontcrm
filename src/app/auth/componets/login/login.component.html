<div class="bg">
  
  <div class="spinner-overlay" *ngIf="isSpinning">
    <mat-spinner diameter="50"></mat-spinner>
    <p style="margin-top: 10px; color: white; font-weight: bold;">Working...</p>
  </div>

  <div class="parent">
    <div class="child">
      
      <div class="imgDiv" style="text-align: center; margin-bottom: 20px;">
        <h1>Login</h1> 
      </div>

      <form [formGroup]="loginForm" (ngSubmit)="login()">

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Email</mat-label>
          <mat-icon matPrefix>person</mat-icon> 
          <input matInput formControlName="email" placeholder="Email">
          <mat-error *ngIf="loginForm.get('email')?.hasError('required')">
            Please input your email!
          </mat-error>
          <mat-error *ngIf="loginForm.get('email')?.hasError('email')">
            Invalid email format!
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Password</mat-label>
          <mat-icon matPrefix>lock</mat-icon>
          <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password" placeholder="Password">
          
          <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword" type="button">
            <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>

          <mat-error *ngIf="loginForm.get('password')?.hasError('required')">
            Please input your Password!
          </mat-error>
        </mat-form-field>

        <button mat-flat-button color="primary" class="login-btn full-width" type="submit" [disabled]="loginForm.invalid">
          Log in
        </button>

        <div style="text-align: center; margin-top: 10px;">
             Or <a routerLink="/register">register now!</a>
        </div>

      </form>
    </div>
  </div>
</div>